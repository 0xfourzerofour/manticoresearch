––– input –––
yum install -y --skip-broken mariadb mariadb105 which > /dev/null 2>&1; echo $?
––– output –––
0
––– input –––
yum install -y -q https://repo.manticoresearch.com/manticore-repo.noarch.rpm > /dev/null 2>&1; echo $?
––– output –––
0
––– input –––
yum install -y -q manticore manticore-extra > /dev/null 2>&1; echo $?
––– output –––
0
––– input –––
export current_version=$(searchd --version | head -n 1 | cut -d" " -f2); echo $current_version
––– output –––
%{SEMVER}
––– input –––
manticore-executor -v
––– output –––
PHP %{SEMVER} (cli) (built: #!/[a-zA-Z]{3}/!# #!/[0-9]+/!# %{YEAR} %{TIME}) (ZTS)
Copyright (c) The PHP Group
Zend Engine #!/v[0-9]+\.[0-9]+\.[0-9]+/!#, Copyright (c) Zend Technologies
––– block: start-searchd-release –––
––– block: check-buddy –––
––– block: check-backup –––
––– input –––
yum -y --enablerepo manticore-dev install manticore manticore-extra manticore-common manticore-server manticore-server-core manticore-tools manticore-executor manticore-buddy manticore-backup manticore-columnar-lib manticore-server-core-debuginfo manticore-tools-debuginfo manticore-columnar-lib-debuginfo  manticore-icudata > /dev/null 2>&1; echo $?
––– output –––
0
––– input –––
export new_version=$(searchd --version | head -n 1 | cut -d" " -f2); echo $new_version
––– output –––
%{SEMVER}
––– input –––
if [[ "$new_version" > "$current_version" ]]; then echo "Upgrade successful. New version: $new_version"; else echo "Upgrade failed. Current version: $current_version, new version: $new_version"; fi
––– output –––
Upgrade successful. New version: %{SEMVER}
